<!DOCTYPE html>
<html lang="en">

<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8">
	<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
	
	<!-- title -->
	
	<title>
	
		03注解与反射 | 
	 
	pigfff的笔记
	</title>
	
	<!-- keywords,description -->
	 

	<!-- favicon -->
	
	<link rel="shortcut icon" href="/favicon.ico">
	


	<!-- search -->
	<script>
		var searchEngine = "https://www.google.com/search?q=";
		if(typeof searchEngine == "undefined" || searchEngine == null || searchEngine == ""){
			searchEngine = "https://www.google.com/search?q=";
		}
		var homeHost = "wujun234.github.io";
		if(typeof homeHost == "undefined" || homeHost == null || homeHost == ""){
			homeHost = window.location.host;
		}
	</script>


	
<link rel="stylesheet" href="/css/main.css">

	
<link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.min.css">

	
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.17.1/build/styles/darcula.min.css">

	
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css">


	
<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>

	
<script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>

	
<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.17.1/build/highlight.min.js"></script>

	
<script src="https://cdn.jsdelivr.net/npm/jquery-pjax@2.0.1/jquery.pjax.min.js"></script>

	
<script src="/js/main.js"></script>

	
		
<script src="https://cdn.jsdelivr.net/npm/leancloud-storage/dist/av-min.js"></script>

		
<script src="https://cdn.jsdelivr.net/npm/valine@v1.4.14/dist/Valine.min.js"></script>

	
	
		<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
	
<meta name="generator" content="Hexo 5.4.0"></head>

<body>
	<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?3efe99c287df5a1d6f0d02d187e403c1";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

<header id="header">
    <a id="title" href="/" class="logo">pigfff的笔记</a>

	<ul id="menu">
		<li class="menu-item">
			<a href="/about" class="menu-item-link">ABOUT</a>
		</li>
	

	

		<li class="menu-item">
			<a href="https://github.com/pigfff" class="menu-item-link" target="_blank">
				UidGenerator
			</a>
		</li>
		<li class="menu-item">
			<a href="https://github.com/pigfff" class="menu-item-link" target="_blank">
				<i class="fa fa-github fa-2x"></i>
			</a>
		</li>
	</ul>
</header>

	
<div id="sidebar">
	<button id="sidebar-toggle" class="toggle" ><i class="fa fa-arrow-right " aria-hidden="true"></i></button>
	
	<div id="site-toc">
		<input id="search-input" class="search-input" type="search" placeholder="按回车全站搜索">
		<div id="tree">
			

			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										01 博客
									</a>
									
							<ul>
								<li class="file">
									<a href="/2021/10/19/01%20%E5%8D%9A%E5%AE%A2/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/">
										博客搭建
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										02 Java
									</a>
									
							<ul>
								<li class="file">
									<a href="/2021/10/21/02%20Java/01java%E5%9F%BA%E7%A1%80%E8%AE%BE%E8%AE%A1/">
										01java基础设计
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2021/10/24/02%20Java/02%E5%AF%B9%E8%B1%A1%E4%B8%8E%E7%B1%BB/">
										02对象与类
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file active">
									<a href="/2021/10/24/02%20Java/03%E6%B3%A8%E8%A7%A3%E4%B8%8E%E5%8F%8D%E5%B0%84/">
										03注解与反射
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2021/10/24/02%20Java/%E7%A9%BA/">
										空
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										99未完成
									</a>
									
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										数据库
									</a>
									
							<ul>
								<li class="file">
									<a href="/2021/10/21/99%E6%9C%AA%E5%AE%8C%E6%88%90/%E6%95%B0%E6%8D%AE%E5%BA%93/MSSQL/">
										MSSQL
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2021/10/21/99%E6%9C%AA%E5%AE%8C%E6%88%90/%E6%95%B0%E6%8D%AE%E5%BA%93/Mysql%E5%9F%BA%E7%A1%80/">
										Mysql基础
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
							<ul>
								<li class="directory">
									<a href="#" class="directory">
										<i class="fa fa-plus-square-o"></i>
										计算机系统
									</a>
									
							<ul>
								<li class="file">
									<a href="/2021/10/21/99%E6%9C%AA%E5%AE%8C%E6%88%90/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F/linux/">
										linux
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2021/10/21/99%E6%9C%AA%E5%AE%8C%E6%88%90/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F/windows/">
										windows
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
								</li>
								
							</ul>
			
								</li>
								
							</ul>
			
		</div>
	</div>
</div>

	<!-- 引入正文 -->
	<div id="content">
		<h1 id="article-title">
	03注解与反射
</h1>
<div class="article-meta">
	
	<span></span>
	<span>2021-10-24 01:40:50</span>
		<div id="article-categories">
    
		<span>Categories：</span>
            
    

    
		<span>Tags：</span>
            
    
		</div>

</div>

<div id="article-content">
	<h1 id="注解与反射"><a href="#注解与反射" class="headerlink" title="注解与反射"></a>注解与反射</h1><h2 id="注解"><a href="#注解" class="headerlink" title="注解"></a>注解</h2><ul>
<li>Annotation是jdk1.5开始引入的新技术。      </li>
<li>nnotation的作用：     <ul>
<li>不是程序本身，可以对程序作出解释；        </li>
<li>可以被其他程序（例如编译器）读取。        </li>
</ul>
</li>
<li>Annotation使用：可以附加在package、class、method、field上，相当于给它们添加了额外的辅助信息，还可以通过<strong>反射机制编程实现对这些元数据的访问</strong>。  </li>
</ul>
<h3 id="重写"><a href="#重写" class="headerlink" title="重写"></a>重写</h3><pre><code class="java">public class Test01 extends  Object&#123;
    //@Override 重写的注解
    @Override
    public String toString()&#123;
        return super.toString();
    &#125;
    //@Deprecated 不推荐使用
    @Deprecated
    public static void test()&#123;
        System.out.println(&quot;Deprecate&quot;);
    &#125;
    public static void main(String args[]) &#123;
        test();
    &#125;
&#125;
</code></pre>
<h3 id="自定义注解"><a href="#自定义注解" class="headerlink" title="自定义注解"></a>自定义注解</h3><pre><code class="java">import java.lang.annotation.*;
//测试元注解
@MyAnnotation
public class Test02 &#123;
    public void test() &#123;
    &#125;

&#125;
//定义一个注解
//Target表示我们的注解可以用在哪些地方
@Target(value = &#123;ElementType .METHOD, ElementType. TYPE&#125;)
//Retention 表示我们的注解在什么地方还有效.
// runtime&gt;class&gt;sources
@Retention(value = RetentionPolicy. RUNTIME)
//Documented表示是否将我们的注解生成在JAVAdoc中
@Documented
//Inherited子类可以继承父类的注解
@Inherited
@interface MyAnnotation &#123;
&#125;
</code></pre>
<h2 id="反射"><a href="#反射" class="headerlink" title="反射"></a>反射</h2><ul>
<li>Reflection（反射）是Java被视为动态语言的关键，反射机制允许程序在执行期借助于 Reflection AP取得仼何类的内部信息，并能直接操作任意对象的内部属性及方法。    <pre><code>Class c= Class.forName(“java. lang String”);
</code></pre>
</li>
<li>加载完类之后，在堆內存的方法区中就产生了一个 Class类型的对象（一个类只有一个Cass对象），这个对象就包含了完整的类的结构信息。我们可以通过这个对象看到类的结构。这个对象就像一面镜子，透过这个镜子看到类的结构，所以，我们形象的称之为：反射。       </li>
</ul>
<blockquote>
<p>正常方式：<br>【引用包】—&gt;【new实例化】—&gt;【获取实例话对象】<br>【实例话对象】—&gt;【getClass(方法)】—&gt;【得到完整“包类”名称】      </p>
</blockquote>
<p>Java反射机制提供的功能：</p>
<ul>
<li>在运行时判断任意一个对象所属的类；</li>
<li>在运行时构造任意一个类的对象；</li>
<li>在运行时判断任意一个类所具有的成员变量和方法；</li>
<li>在运行时获取泛型信息；</li>
<li>在运行时调用任意一个对象的成员变量和方法；</li>
<li>在运行时处理注解；</li>
<li>生成动态代理；</li>
<li>…</li>
</ul>
<pre><code class="java">package com.reflection;
//测试Class类的创建方法
public class Test03 &#123;
    public static void main(String args[])  throws ClassNotFoundException &#123;
        //反射获取类
        Class c1 = Class.forName(&quot;com.reflection.User&quot;);//对应&quot;包&quot;内的函数
        System.out.println(c1);

        Class c2 = Class.forName(&quot;com.reflection.User&quot;);
        Class c3 = Class.forName(&quot;com.reflection.User&quot;);
        //一个类被加载后，类的整个结构部会被封装在Class对象中.
        //一个类在内存中只有一个Class对象
        System.out.println(c1.hashCode()+&quot;\n&quot;+c2.hashCode()+&quot;\n&quot;+c3.hashCode());

        /*测试class类的创建方式有哪些*/
        Person person =new Student();
        //方式一:通过对象获
        Class b1=person.getClass();
        System.out.println(b1.hashCode());
        //方式二: forname获得
        Class b2 = Class.forName (&quot;com.reflection.User&quot;);
        System.out.println(b2.hashCode());
        //方式三：通过类名.class获得
        Class b3 = Student.class;
        System.out.println(b3.hashCode());
        //方法四：&quot;基本内置类型&quot;的包装类都有Type属性
        Class b4 =Integer.TYPE;
        System.out.println(b4);
        //获得父类类型
        Class b5 =b1.getSuperclass();
        System.out.println(b5);
        b3.getClass().forName(&quot;java.lang.Runtime&quot;);
    &#125;
&#125;
class User&#123;
    private String name;
    private int id;
    private int age;
    public User()&#123;
    &#125;
    public User(String name,int id,int age)&#123;
        this.name=name;
        this.id=id;
        this.age=age;
    &#125;
    public String getName() &#123;
        return name;
    &#125;
    public void setName(String name) &#123;
        this.name = name;
    &#125;
    public int getId() &#123;
        return id;
    &#125;
    public void setId(int id) &#123;
        this.id = id;
    &#125;
    public int getAge() &#123;
        return age;
    &#125;
    public void setAge(int age) &#123;
        this.age = age;
    &#125;
    @Override
    public String toString() &#123;
        return &quot;User&#123;&quot; +
                &quot;id=&quot; + id +
                &quot;, age=&quot; + age +
                &quot;, name=&#39;&quot; + name + &#39;\&#39;&#39; +
                &#39;&#125;&#39;;
    &#125;
&#125;

class Person&#123;
    public String name ;
    public Person()&#123;
    &#125;
    public Person(String name) &#123;
        this.name = name;
    &#125;
    @Override
    public String toString() &#123;
        return &quot;Person&#123;&quot; +
                &quot;name=&#39;&quot; + name + &#39;\&#39;&#39; +
                &#39;&#125;&#39;;
    &#125;
&#125;

class Student extends Person&#123;
    public Student()&#123;
        this.name=&quot;学生&quot;;
    &#125;
&#125;
class Teracher extends Person&#123;
    public Teracher()&#123;
        this.name=&quot;老师&quot;;
    &#125;
&#125;
</code></pre>

</div>


    <div class="post-guide">
        <div class="item left">
            
              <a href="/2021/10/24/02%20Java/%E7%A9%BA/">
                  <i class="fa fa-angle-left" aria-hidden="true"></i>
                  空
              </a>
            
        </div>
        <div class="item right">
            
              <a href="/2021/10/24/02%20Java/02%E5%AF%B9%E8%B1%A1%E4%B8%8E%E7%B1%BB/">
                02对象与类
                <i class="fa fa-angle-right" aria-hidden="true"></i>
              </a>
            
        </div>
    </div>




<script>
	
	
</script>
	</div>
	<div id="footer">
	<p>
	©2019-<span id="footerYear"></span> 
	<a href="/"></a> 
	
	
		|
		<span id="busuanzi_container_site_pv">
			pv
			<span id="busuanzi_value_site_pv"></span>
		</span>
		|
		<span id="busuanzi_container_site_uv"> 
			uv
			<span id="busuanzi_value_site_uv"></span>
		</span>
	
	<br>
	Theme <a href="//github.com/wujun234/hexo-theme-tree" target="_blank">Tree</a>
	by <a href="//github.com/wujun234" target="_blank">WuJun</a>
	Powered by <a href="//hexo.io" target="_blank">Hexo</a>
	</p>
</div>
<script type="text/javascript"> 
	document.getElementById('footerYear').innerHTML = new Date().getFullYear() + '';
</script>
	<button id="totop-toggle" class="toggle"><i class="fa fa-angle-double-up" aria-hidden="true"></i></button>
</body>
</html>